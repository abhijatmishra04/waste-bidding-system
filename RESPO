
@Test
public void testWriteHeader_Success() throws IOException {
    FlatFileItemWriter<CollectionLettersPaymentInfoDTO> writer = new FlatFileItemWriter<>();

    FlatFileHeaderCallback headerCallback = new FlatFileHeaderCallback() {
        @Override
        public void write(Writer writer) throws IOException {
            String expectedHeader = CollectionLettersBatchConstants.SST_REC_ID_HDR +
                                    MOCK_DATE_STRING +
                                    CollectionLettersBatchConstants.SST_00 +
                                    CollectionLettersBatchConstants.SPACES_177;
            writer.write(expectedHeader);
        }
    };

    writer.setHeaderCallback(headerCallback);

    // Directly call write() on the callback instance
    headerCallback.write(mockWriter);

    verify(mockWriter).write(contains(MOCK_DATE_STRING));
}
