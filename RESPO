@Test
public void testProcess_UpdateTransferInstructionSuccess() throws Exception {
    // Arrange
    when(jdbcTemplate.queryForObject(eq(CustaggSQLFactory.FETCH_SCHEDULE_ID_ACCOUNT_BOA), 
            eq(String.class), any(Object[].class)))
            .thenReturn("SCHED123");

    when(jdbcTemplate.queryForObject(eq(CustaggSQLFactory.FETCH_TRANSFER_EXECUTION_M2M_ID), 
            eq(String.class), any(Object[].class)))
            .thenReturn("EXEC456");

    when(jdbcTemplate.queryForObject(eq(CustaggSQLFactory.FETCH_TRANSFER_INSTRUCTION_ID), 
            eq(String.class), any(Object[].class)))
            .thenReturn("INSTR789");

    when(jdbcTemplate.update(eq(CustaggSQLFactory.UPDATE_TRANSFER_INSTRUCTION_M2M), 
            any(), any(), any(), any()))
            .thenReturn(1); // Simulating a successful update

    CustaggRecordsDTO input = new CustaggRecordsDTO();
    input.setEntity("ENTITY1");
    input.setAccountNumber("ACC12345");
    input.setProductCode("PROD01");
    input.setTransferExecutionIds(Collections.singletonList("EXEC456"));

    // Act
    CustaggProcessedRecordsDTO result = processor.process(input);

    // Assert
    assertNotNull(result);
    assertTrue(result.getTransferExecutionIds().contains("EXEC456"));

    verify(jdbcTemplate, times(1)).update(eq(CustaggSQLFactory.UPDATE_TRANSFER_INSTRUCTION_M2M), 
            any(), any(), any(), any());
}
