Business Requirements for Payment Processing in Spring Batch

1. Handling Different Payment Processing Scenarios Based on Recurring Amount Type

The system processes different types of payments based on the Recurring Amount Type (RecurAmtType) provided in the input data. Each scenario has specific validation checks and business rules.

1.1 REM_STMT_BAL (Remaining Statement Balance Payment)
	•	If the payment type is “Remaining Statement Balance (REM_STMT_BAL)”, the system should:
	•	Log that processing has started for this case.
	•	Validate whether the Payment Amount (PmtAmt) is available.
	•	If PmtAmt is missing, log an error message and discard the transaction.
	•	If valid, set:
	•	Payment Type as “One-time Statement Balance Payment”.
	•	Original Payment Amount as the provided PmtAmt.
	•	Amount Type as RSB (Remaining Statement Balance Type).

1.2 ISB (Installment-Based Payment)
	•	If the payment type is “Installment-Based Payment (ISB)”, the system should:
	•	Log that processing has started for this case.
	•	Validate whether both Process Code (ProcessCode) and Minimum Statement Creation Amount (MinStmtCrtRegAmt) are available.
	•	If either value is missing, log an error and discard the transaction.
	•	Determine the payment type based on the Process Code:
	•	If Process Code = P00, set the Payment Type as One-time ISB.
	•	Otherwise, set it as Auto-Pay ISB.
	•	Set:
	•	Original Payment Amount as MinStmtCrtRegAmt.
	•	Amount Type as ISB (Installment-Based Type).

1.3 REM_ISB (Remaining Installment-Based Payment)
	•	If the payment type is “Remaining Installment-Based Payment (REM_ISB)”, the system should:
	•	Log that processing has started for this case.
	•	Validate whether the Payment Amount (PmtAmt) is available.
	•	If PmtAmt is missing, log an error message and discard the transaction.
	•	If valid, set:
	•	Payment Type as “Remaining Installment Payment”.
	•	Original Payment Amount as the provided PmtAmt.
	•	Amount Type as RIS (Remaining Installment Type).

2. Additional Business Rules and Validations

2.1 Transfer Reference ID Validation
	•	If the Transfer Reference ID is missing, the system must check whether the Process Code is available:
	•	If Process Code is missing, log an error and discard the transaction.

2.2 Processing for Transactions with Process Code P03
	•	If Process Code = P03 and Remaining Occurrence Count (RmanOccur) = 1, the system should:
	•	Set Original Payment Amount as the Final Amount (FinalAmt).
	•	If Process Code ≠ P03, or if it is P03 but Remaining Occurrences ≠ 1, the system should:
	•	Set Original Payment Amount as the provided PmtAmt.
